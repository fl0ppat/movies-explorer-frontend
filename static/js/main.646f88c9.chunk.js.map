{"version":3,"sources":["components/Navigation/Navigation.js","images/logo.svg","utils/useWindowWidth.js","images/icon__profile.svg","components/UserLink/UserLink.js","components/BurgerMenu/BurgerMenu.js","components/Header/Header.js","components/Carousel/Carousel.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/avatar.jpg","components/AboutMe/AboutMe.js","components/Main/Main.js","components/Search/Search.js","utils/constants.js","context/userContext.js","components/Movie/Movie.js","components/MoviesList/MoviesList.js","context/modalContext.js","utils/MoviesApi.js","components/Modal/Modal.js","utils/useModal.js","components/Preloader/Preloader.js","utils/MainApi.js","components/Movies/Movies.js","utils/validator.js","utils/AuthApi.js","components/Register/Register.js","components/Login/Login.js","components/Profile/Profile.js","components/NotFound/NotFound.js","components/ProtectedRoute/ProtectedRoute.js","components/Footer/Footer.js","components/App/App.js","index.js"],"names":["Navigation","props","user","loggedIn","curRoute","useLocation","pathname","className","to","useWindowSize","useState","width","undefined","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","addEventListener","removeEventListener","UserLink","src","profileImg","alt","BurgerMenu","closeMenu","document","querySelector","checked","id","type","htmlFor","onClick","Header","logoImage","Carousel","AboutProject","Techs","AboutMe","image","href","rel","target","Main","Search","inputValue","setInputValue","searchDOM","searchSubmit","short","onSearch","text","onSubmit","placeholder","required","e","value","userContext","React","createContext","Movie","film","useContext","currentUser","cover","consts","url","nameRU","duration","trailerLink","mode","a","onDislike","parentElement","remove","movies","includes","classList","onLike","add","min","hours","Math","floor","minutes","calculateDuration","MoviesList","ref","filmList","cardsOnScreen","cardsToRender","addCardsToRender","addCardPack","size","indexToStart","length","arrayFragment","slice","map","concat","useImperativeHandle","cleanAllCards","cardsInLastRow","load","forwardRef","ModalContext","beatfilmAPI","fetchAllFilms","fetch","then","response","status","json","Error","Modal","modalContent","handleModal","modal","closable","ReactDOM","createPortal","Provider","ModalProvider","children","setModal","setClosable","setModalContent","content","closeModal","useModal","Preloader","filmAPI","api","this","_baseURL","movie","country","director","year","description","trailer","nameEN","thumbnail","movieId","_sendRequest","res","_handleResponseStatus","ok","Promise","reject","obj","Object","keys","method","headers","body","reqHeader","Accept","_objectIsEmptyOrUndefined","assign","fetchData","credentials","JSON","stringify","withRouter","setMovies","MoviesRef","useRef","screenWidth","filterFilm","filterObj","filtredArray","filter","toLowerCase","Number","current","searchParams","localStorage","getItem","setTimeout","parse","setItem","catch","console","error","userMovies","item","indexOf","getLikedMovies","mainApi","likeFilm","constants","deleteFilm","handleInput","event","dataSetter","validity","valid","nextSibling","style","visibility","textContent","validationMessage","auth","password","email","name","Register","setName","setEmail","setPassword","history","useHistory","logo","onChange","form","checkValidity","disabled","preventDefault","registerUser","loginUser","onLogin","push","noValidate","minLength","maxLength","Login","token","Profile","titleName","setTitleName","nameInput","emailInput","submitButton","onChangeProfile","onSignOut","NotFound","ProtectedRoute","Component","component","Footer","App","setCurrentUser","setLoggedIn","getUser","data","err","basename","path","Movies","newCurrentUser","signOut","removeItem","editProfileData","exact","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.646f88c9.chunk.js","sourcesContent":["/* eslint-disable react/prop-types */\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nimport \"./Navigation.css\";\r\n\r\nfunction Navigation(props) {\r\n  const user = props.loggedIn;\r\n  const curRoute = useLocation().pathname;\r\n  if (!user) return \"\";\r\n\r\n  return (\r\n    <nav className='navigation'>\r\n      <ul className='navigation__list'>\r\n        <li>\r\n          <Link className={`navigation__item ${curRoute === \"/movies\" && \"navigation__item_selected\"}`} to='/movies'>\r\n            Фильмы\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link\r\n            className={`navigation__item ${curRoute === \"/saved-movies\" && \"navigation__item_selected\"}`}\r\n            to='/saved-movies'\r\n          >\r\n            Сохранённые фильмы\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/logo.4efad476.svg\";","import { useState, useEffect } from \"react\";\r\n\r\nfunction useWindowSize() {\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: undefined,\r\n  });\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n      });\r\n    }\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n  return windowSize;\r\n}\r\n\r\nexport default useWindowSize;\r\n","export default __webpack_public_path__ + \"static/media/icon__profile.c146d569.svg\";","import { Link } from \"react-router-dom\";\r\nimport profileImg from \"../../images/icon__profile.svg\";\r\n\r\nimport \"./UserLink.css\";\r\n\r\nfunction UserLink() {\r\n  return (\r\n    <Link className='User-link' to='/profile'>\r\n      Аккаунт\r\n      <img className='User-link__pic' src={profileImg} alt='Изображение профиля' />\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default UserLink;\r\n","/* eslint-disable react/prop-types */\r\nimport \"./BurgerMenu.css\";\r\n//import { useContext } from \"react\";\r\n//import UserContext from \"../../context/userContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport UserLink from \"../UserLink/UserLink\";\r\n\r\nfunction BurgerMenu() {\r\n  function closeMenu() {\r\n    const toggler = document.querySelector(\"#menu__toggle\");\r\n    toggler.checked = false;\r\n  }\r\n\r\n  return (\r\n    <div className='menu'>\r\n      <input id='menu__toggle' type='checkbox' />\r\n      <label className='menu__btn' htmlFor='menu__toggle'>\r\n        <span></span>\r\n      </label>\r\n      <div onClick={closeMenu} className='menu__overlay'></div>\r\n      <ul className='menu__box'>\r\n        <li>\r\n          <Link onClick={closeMenu} className='menu__item' to='/'>\r\n            Главная\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link onClick={closeMenu} className='menu__item' to='/movies'>\r\n            Фильмы\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link onClick={closeMenu} className='menu__item' to='/saved-movies'>\r\n            Сохранённые фильмы\r\n          </Link>\r\n        </li>\r\n        <li onClick={closeMenu}>\r\n          <UserLink />\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BurgerMenu;\r\n","/* eslint-disable react/prop-types */\r\n\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport logoImage from \"../../images/logo.svg\";\r\nimport useWindowSize from \"../../utils/useWindowWidth\";\r\nimport BurgerMenu from \"../BurgerMenu/BurgerMenu\";\r\nimport UserLink from \"../UserLink/UserLink\";\r\n\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nimport \"./Header.css\";\r\n\r\nfunction Header(props) {\r\n  const user = props.loggedIn;\r\n  const curRoute = useLocation().pathname;\r\n  const { width } = useWindowSize();\r\n\r\n  if (curRoute === \"/movies\" || curRoute === \"/saved-movies\" || curRoute === \"/\" || curRoute === \"/profile\") {\r\n    if (width <= 768) {\r\n      return (\r\n        <header className='header'>\r\n          <Link className='header__logo-link' to='/'>\r\n            <img className='header__logo' src={logoImage} alt='Логотип' />\r\n          </Link>\r\n          {user ? (\r\n            <BurgerMenu />\r\n          ) : (\r\n            <span>\r\n              <Link className='header__signup' to='/signup'>\r\n                Регистрация\r\n              </Link>\r\n              <Link className='header__signin' to='/signin'>\r\n                Войти\r\n              </Link>\r\n            </span>\r\n          )}\r\n        </header>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <header className='header'>\r\n        <Link className='header__logo-link' to='/'>\r\n          <img className='header__logo' src={logoImage} alt='Логотип' />\r\n        </Link>\r\n        <Navigation loggedIn={props.loggedIn} />\r\n        {user ? (\r\n          <UserLink />\r\n        ) : (\r\n          <span>\r\n            <Link className='header__signup' to='/signup'>\r\n              Регистрация\r\n            </Link>\r\n            <Link className='header__signin' to='/signin'>\r\n              Войти\r\n            </Link>\r\n          </span>\r\n        )}\r\n      </header>\r\n    );\r\n  } else return \"\";\r\n}\r\n\r\nexport default Header;\r\n","import \"./Carousel.css\";\r\n\r\nfunction Carousel() {\r\n  return (\r\n    <section className='carousel'>\r\n      <h1 className='carousel__title'>Учебный проект студента факультета Веб-разработки.</h1>\r\n      <ul className='carousel__link-list'>\r\n        <li className='carousel__item'>О проекте</li>\r\n        <li className='carousel__item'>Технологии</li>\r\n        <li className='carousel__item'>Студент</li>\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Carousel;\r\n","import \"./AboutProject.css\";\r\n\r\nfunction AboutProject() {\r\n  return (\r\n    <section className='about-project'>\r\n      <h2 className='section__title'>О проекте</h2>\r\n      <hr />\r\n      <div className='about-project__grid'>\r\n        <div className='about-project__item-left'>\r\n          <h3 className='about-project__subtitle'>Дипломный проект включал 5 этапов</h3>\r\n          <p className='about-project__paragraph'>\r\n            Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.\r\n          </p>\r\n        </div>\r\n        <div className='about-project__item-right'>\r\n          <h3 className='about-project__subtitle'>На выполнение диплома ушло 5 недель</h3>\r\n          <p className='about-project__paragraph'>\r\n            У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.\r\n          </p>\r\n        </div>\r\n        <div className='about-project__item-center'>\r\n          <div className='about-project__back-block'>1 неделя</div>\r\n          <div className='about-project__back-tooltip'>Back-end</div>\r\n          <div className='about-project__front-block'>4 недели</div>\r\n          <div className='about-project__front-tooltip'>Front-end</div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutProject;\r\n","import \"./Techs.css\";\r\n\r\nfunction Techs() {\r\n  return (\r\n    <section className='techs'>\r\n      <div className='techs__inner'>\r\n        <h2 className='section__title'>Технологии</h2>\r\n        <hr />\r\n        <h3 className='techs__title'>7 технологий</h3>\r\n        <p className='techs__paragraph'>\r\n          На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.\r\n        </p>\r\n        <ul className='techs__list'>\r\n          <li className='techs__item'>HTML</li>\r\n          <li className='techs__item'>CSS</li>\r\n          <li className='techs__item'>JS</li>\r\n          <li className='techs__item'>React</li>\r\n          <li className='techs__item'>Git</li>\r\n          <li className='techs__item'>Express.js</li>\r\n          <li className='techs__item'>mongoDB</li>\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Techs;\r\n","export default __webpack_public_path__ + \"static/media/avatar.252fd1f7.jpg\";","import \"./AboutMe.css\";\r\nimport image from \"../../images/avatar.jpg\";\r\n\r\nfunction AboutMe() {\r\n  return (\r\n    <section className='about-me'>\r\n      <h2 className='section__title'>Студент</h2>\r\n      <hr />\r\n      <img className='about-me__image' alt='Фото студента' src={image} />\r\n      <div className='about-me__info'>\r\n        <h3 className='about-me__title'>Виталий</h3>\r\n        <p className='about-me__subtitle'>Фронтенд-разработчик, 30 лет</p>\r\n        <p className='about-me__paragraph'>\r\n          Я родился и живу в Саратове, закончил факультет экономики СГУ. У меня есть жена и дочь. Я люблю слушать\r\n          музыку, а ещё увлекаюсь бегом. Недавно начал кодить. С 2015 года работал в компании «СКБ Контур». После того,\r\n          как прошёл курс по веб-разработке, начал заниматься фриланс-заказами и ушёл с постоянной работы.\r\n        </p>\r\n        <ul className='about-me__social-links'>\r\n          <li className='about-me__social-link'>\r\n            <a href='https://ru-ru.facebook.com/zuck' rel='noreferrer' target='_blank'>\r\n              Facebook\r\n            </a>\r\n          </li>\r\n          <li className='about-me__social-link'>\r\n            <a href='https://github.com/torvalds' rel='noreferrer' target='_blank'>\r\n              Github\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div className='about-me__portfolio'>\r\n        <h4 className='about-me__portfolio-title'>Портфолио</h4>\r\n        <ul className='about-me__portfolio-links'>\r\n          <li className='about-me__portfolio-link'>\r\n            <a href='https://github.com/fl0ppat/how-to-learn' rel='noreferrer' target='_blank'>\r\n              Статичный сайт\r\n            </a>\r\n          </li>\r\n          <li className='about-me__portfolio-link'>\r\n            <a href='https://fl0ppat.github.io/russian-travel/' rel='noreferrer' target='_blank'>\r\n              Адаптивный сайт\r\n            </a>\r\n          </li>\r\n          <li className='about-me__portfolio-link'>\r\n            <a href='https://github.com/fl0ppat/react-mesto-api-full' rel='noreferrer' target='_blank'>\r\n              Одностраничное приложение\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutMe;\r\n","import Carousel from \"../Carousel/Carousel\";\r\nimport AboutProject from \"../AboutProject/AboutProject\";\r\nimport Techs from \"../Techs/Techs\";\r\nimport AboutMe from \"../AboutMe/AboutMe\";\r\n\r\nimport \"./Main.css\";\r\n\r\nfunction Main() {\r\n  return (\r\n    <div className='main'>\r\n      <Carousel />\r\n      <AboutProject />\r\n      <Techs />\r\n      <AboutMe />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","/* eslint-disable react/prop-types */\r\n\r\nimport { useState } from \"react\";\r\nimport useWindowSize from \"../../utils/useWindowWidth\";\r\n\r\nimport \"./Search.css\";\r\n\r\nfunction Search(props) {\r\n  const { width } = useWindowSize();\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  // const [short, setShort] = useState(false)\r\n  const searchDOM = document.querySelector(\".search__wrapper\");\r\n\r\n  function searchSubmit() {\r\n    // e.preventDefault();\r\n    const short = searchDOM.querySelector(\".search__toggle\");\r\n    props.onSearch({ text: inputValue, short: short.checked });\r\n  }\r\n\r\n  return (\r\n    <div className='search__wrapper'>\r\n      <form className='search__line' onSubmit={searchSubmit}>\r\n        <input className='search__input' placeholder='Фильм' required type='text' />\r\n        <input\r\n          className='search__submit'\r\n          onClick={(e) => setInputValue(e.target.value)}\r\n          type='submit'\r\n          value={inputValue}\r\n        />\r\n\r\n        {width > 600 && (\r\n          <>\r\n            <span className='search__delimiter'></span>\r\n            <input className='search__toggle' type='checkbox' onClick={searchSubmit} id='checkbox' />\r\n            <label className='search__toggle-label' htmlFor='checkbox'>\r\n              <span className='search__toggle-text'>Короткометражки</span>\r\n            </label>\r\n          </>\r\n        )}\r\n      </form>\r\n      {width <= 600 && (\r\n        <div className='search__toggle-wrapper'>\r\n          <input className='search__toggle' type='checkbox' onClick={searchSubmit} id='checkbox' />\r\n          <label className='search__toggle-label' htmlFor='checkbox'>\r\n            <span className='search__toggle-text'>Короткометражки</span>\r\n          </label>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","const beatfilmAPI = \"https://api.nomoreparties.co/beatfilm-movies\";\r\nconst filmAPI = \"https://api.fl0ppat-diplom.nomoredomains.club\";\r\nconst imageLink = \"https://api.nomoreparties.co\";\r\nconst internailError =\r\n  \"Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз\";\r\n\r\nexport default { beatfilmAPI, filmAPI, internailError, imageLink };\r\n","import React from \"react\";\r\n\r\nconst userContext = React.createContext({});\r\n\r\nexport default userContext;\r\n","/* eslint-disable react/prop-types */\r\nimport { useContext } from \"react\";\r\nimport consts from \"../../utils/constants\";\r\nimport \"./Movie.css\";\r\nimport currentUser from \"../../context/userContext\";\r\n\r\nfunction Movie(props) {\r\n  const user = useContext(currentUser);\r\n  const cover = consts.imageLink + props.film.image.url;\r\n  const { nameRU, duration, trailerLink } = props.film;\r\n\r\n  function calculateDuration(min) {\r\n    const hours = Math.floor(min / 60);\r\n    const minutes = min % 60;\r\n    return `${hours === 0 ? \"\" : hours + \"ч \"}${minutes}м`;\r\n  }\r\n\r\n  function isLiked(film) {\r\n    if (user.movies.includes(film.id)) return true;\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    <div className='movie'>\r\n      <a target='_blank' href={trailerLink} rel='noreferrer'>\r\n        <img className='movie__cover' src={cover} alt={`Обложка ${nameRU}`} />\r\n      </a>\r\n\r\n      <p className='movie__title'>{nameRU}</p>\r\n      {props.mode ? (\r\n        <button\r\n          className='movie__button movie__button_delete'\r\n          onClick={async (e) => {\r\n            props.onDislike(props.film.id);\r\n            await e.target.parentElement.remove();\r\n          }}\r\n        />\r\n      ) : isLiked(props.film) ? (\r\n        <button\r\n          className='movie__button movie__button_like movie__button_liked'\r\n          onClick={async (e) => {\r\n            props.onDislike(props.film.id);\r\n            await e.target.classList.remove(\"movie__button_liked\");\r\n          }}\r\n        />\r\n      ) : (\r\n        <button\r\n          className='movie__button movie__button_like'\r\n          onClick={(e) => {\r\n            props.onLike(props.film);\r\n            e.target.classList.add(\"movie__button_liked\");\r\n          }}\r\n        />\r\n      )}\r\n      <p className='movie__duration'>{calculateDuration(duration)}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Movie;\r\n","/* eslint-disable react/prop-types */\r\nimport { useState, useEffect, forwardRef, useImperativeHandle } from \"react\";\r\nimport Movie from \"../Movie/Movie\";\r\nimport \"./MoviesList.css\";\r\n\r\nfunction MoviesList(props, ref) {\r\n  const { movies, cardsOnScreen } = props;\r\n  const [cardsToRender, addCardsToRender] = useState([]);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    cleanAllCards() {\r\n      addCardsToRender([]);\r\n    },\r\n  }));\r\n\r\n  function createMoives(filmList) {\r\n    return filmList.map((film) => (\r\n      <Movie mode={props.mode} onLike={props.onLike} onDislike={props.onDislike} key={film.id} film={film} />\r\n    ));\r\n  }\r\n\r\n  function addCardPack(size) {\r\n    const indexToStart = cardsToRender.length;\r\n    const arrayFragment = createMoives(movies.slice(indexToStart, indexToStart + size));\r\n    addCardsToRender(cardsToRender.concat(arrayFragment));\r\n  }\r\n\r\n  useEffect(() => {\r\n    addCardPack(cardsOnScreen.size);\r\n  }, [props.movies]);\r\n\r\n  useEffect(() => {\r\n    const cardsInLastRow = cardsToRender.length % cardsOnScreen.load;\r\n    if (cardsToRender.length % cardsOnScreen.load !== 0) {\r\n      addCardPack(cardsOnScreen.load - cardsInLastRow);\r\n    }\r\n  }, [cardsOnScreen]);\r\n\r\n  function handleNotFound(filmList) {\r\n    return filmList.length > 0 ? filmList : <h2 className='movies-list__notfound'>Ничего не найдено</h2>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <section className='movies-list'>{handleNotFound(cardsToRender)}</section>\r\n      {cardsToRender.length > 0 && movies.length > cardsToRender.length && (\r\n        <button className='movies-list__loadmore' onClick={() => addCardPack(cardsOnScreen.load)}>\r\n          Ещё\r\n        </button>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default forwardRef(MoviesList);\r\n","/* eslint-disable react/prop-types */\r\nimport React from \"react\";\r\nimport useModal from \"../utils/useModal\";\r\nimport Modal from \"../components/Modal/Modal\";\r\n\r\nlet ModalContext;\r\nconst { Provider } = (ModalContext = React.createContext());\r\n\r\nconst ModalProvider = ({ children }) => {\r\n  let { modal, handleModal, modalContent, closable, closeModal } = useModal();\r\n  return (\r\n    <Provider value={{ modal, handleModal, modalContent, closable, closeModal }}>\r\n      <Modal closable={closable} />\r\n      {children}\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport { ModalContext, ModalProvider };\r\n","import consts from \"./constants\";\r\n\r\nconst { beatfilmAPI } = consts;\r\n\r\nconst fetchAllFilms = () =>\r\n  fetch(beatfilmAPI).then((response) => {\r\n    if (response.status === 200) {\r\n      return response.json();\r\n    } else {\r\n      throw new Error(\"Something went wrong on api server!\");\r\n    }\r\n  });\r\n\r\nexport default fetchAllFilms;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { ModalContext } from \"../../context/modalContext\";\r\nimport \"./Modal.css\";\r\n\r\nconst Modal = () => {\r\n  let { modalContent, handleModal, modal, closable } = React.useContext(ModalContext);\r\n\r\n  if (modal) {\r\n    return ReactDOM.createPortal(\r\n      <div className='modal'>\r\n        <div className='modal__inner'>\r\n          {closable && (\r\n            <button className='modal__close' onClick={() => handleModal()}>\r\n              &times;\r\n            </button>\r\n          )}\r\n          {modalContent}\r\n        </div>\r\n      </div>,\r\n      document.querySelector(\"#modal-root\")\r\n    );\r\n  } else return null;\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\n\r\nexport default () => {\r\n  const [modal, setModal] = React.useState(false);\r\n  const [closable, setClosable] = React.useState(false);\r\n  const [modalContent, setModalContent] = React.useState(\"\");\r\n\r\n  let handleModal = (content = false, closable) => {\r\n    setModal(!modal);\r\n    if (content) {\r\n      setClosable(closable);\r\n      setModalContent(content);\r\n    }\r\n  };\r\n  const closeModal = () => {\r\n    setModal(false);\r\n    setModalContent(\"\");\r\n  };\r\n\r\n  return { modal, handleModal, modalContent, closable, closeModal };\r\n};\r\n","import React from 'react'\r\nimport './Preloader.css'\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className=\"preloader\">\r\n            <div className=\"preloader__container\">\r\n                <span className=\"preloader__round\"></span>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Preloader\r\n","import consts from \"./constants\";\r\n\r\nconst { filmAPI } = consts;\r\n\r\nclass Api {\r\n  constructor(url) {\r\n    this._baseURL = url;\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {Object} movie\r\n   * @return {*}\r\n   * @memberof Api\r\n   */\r\n  likeFilm(movie) {\r\n    const { country, director, duration, year, description, image, trailer, nameRU, nameEN, thumbnail, movieId } =\r\n      movie;\r\n    return this._sendRequest(\r\n      \"POST\",\r\n      `${this._baseURL}/movies`,\r\n      { \"Content-Type\": \"application/json\" },\r\n      { country, director, duration, year, description, image, trailer, nameRU, nameEN, thumbnail, movieId }\r\n    ).then((res) => this._handleResponseStatus(res));\r\n  }\r\n\r\n  deleteFilm(id) {\r\n    return this._sendRequest(\"DELETE\", `${this._baseURL}/movies/${id}`, { \"Content-Type\": \"application/json\" }).then(\r\n      (res) => this._handleResponseStatus(res)\r\n    );\r\n  }\r\n\r\n  _handleResponseStatus(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  _objectIsEmptyOrUndefined(obj) {\r\n    if (obj === \"undefined\") {\r\n      return true;\r\n    }\r\n    return obj && Object.keys(obj).length === 0;\r\n  }\r\n\r\n  /**\r\n   * Send modulable request\r\n   *\r\n   * @param {string} method Sending method (GET, POST, etc.)\r\n   * @param {string} url API URL\r\n   * @param {object} headers key: value representation of headers\r\n   * @param {object} body key: vlaue representation of body\r\n   * @return {Promise}\r\n   * @memberof Api\r\n   */\r\n  _sendRequest(method, url, headers, body) {\r\n    const reqHeader = {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    };\r\n\r\n    if (headers && !this._objectIsEmptyOrUndefined(headers)) {\r\n      Object.assign(reqHeader, headers);\r\n    }\r\n\r\n    const fetchData = {\r\n      method,\r\n      headers: reqHeader,\r\n      credentials: \"include\",\r\n    };\r\n\r\n    if (body && !this._objectIsEmptyOrUndefined(body)) {\r\n      fetchData.body = JSON.stringify(body);\r\n    }\r\n    return fetch(url, fetchData);\r\n  }\r\n}\r\nconst api = new Api(filmAPI);\r\nexport default api;\r\n","/* eslint-disable react/prop-types */\r\nimport { useState, useContext, useRef, useEffect } from \"react\";\r\nimport { withRouter, useLocation } from \"react-router\";\r\nimport Search from \"../Search/Search\";\r\nimport MoviesList from \"../MoviesList/MoviesList\";\r\nimport fetchAllFilms from \"../../utils/MoviesApi\";\r\nimport useWindowSize from \"../../utils/useWindowWidth\";\r\nimport { ModalContext } from \"../../context/modalContext\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport mainApi from \"../../utils/MainApi\";\r\nimport constants from \"../../utils/constants\";\r\nimport currentUser from \"../../context/userContext\";\r\n\r\nfunction Movies(props) {\r\n  const [movies, setMovies] = useState([]);\r\n  const user = useContext(currentUser);\r\n  let { handleModal, closeModal } = useContext(ModalContext);\r\n  const curRoute = useLocation().pathname;\r\n\r\n  const MoviesRef = useRef();\r\n  const screenWidth = useWindowSize();\r\n\r\n  useEffect(() => {\r\n    MoviesRef.current.cleanAllCards();\r\n  }, [curRoute]);\r\n\r\n  function onLike(movie) {\r\n    const { country, director, duration, year, description, image, nameRU, nameEN } = movie;\r\n    mainApi\r\n      .likeFilm({\r\n        country,\r\n        director,\r\n        duration,\r\n        year,\r\n        description,\r\n        image: constants.imageLink + image.url,\r\n        trailer: movie.trailerLink,\r\n        nameRU,\r\n        nameEN,\r\n        thumbnail: constants.imageLink + image.url,\r\n        movieId: movie.id,\r\n      })\r\n      .then(() => {\r\n        props.onLike(movie.id);\r\n      })\r\n      .catch((e) => console.error(e));\r\n  }\r\n\r\n  function onDislike(id) {\r\n    mainApi\r\n      .deleteFilm(id)\r\n      .then(() => {\r\n        props.onDislike(id);\r\n      })\r\n      .catch((e) => console.error(e));\r\n  }\r\n\r\n  function getLikedMovies() {\r\n    if (user === null) return [];\r\n    const userMovies = user.movies;\r\n    const likedMovies = movies.filter((item) => userMovies.indexOf(item.id) > -1);\r\n    return likedMovies;\r\n  }\r\n\r\n  function getAmoutOfCards() {\r\n    if (screenWidth.width > 768) return { size: 12, load: 3 };\r\n    if (screenWidth.width < 768 && screenWidth.width >= 600) return { size: 8, load: 2 };\r\n    else return { size: 5, load: 1 };\r\n  }\r\n\r\n  function onSearch(searchParams) {\r\n    handleModal(<Preloader />, false);\r\n\r\n    MoviesRef.current.cleanAllCards();\r\n    const movies = localStorage.getItem(\"movies\");\r\n\r\n    if (movies === null) {\r\n      fetchAllFilms()\r\n        .then((res) => {\r\n          localStorage.setItem(\"movies\", JSON.stringify(res));\r\n          setTimeout(closeModal, 300);\r\n          return setMovies(filterFilm(res, searchParams));\r\n        })\r\n        .catch((e) => {\r\n          handleModal(<h2 className='modal__title'>Ошибка во время загрузки данных</h2>, true);\r\n          console.error(\"Ошибка во время загрузки данных: \" + e);\r\n        });\r\n    } else {\r\n      setTimeout(closeModal, 300);\r\n      return setMovies(filterFilm(JSON.parse(movies), searchParams));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Filter films with query params\r\n   *\r\n   * @param {Array} filmList\r\n   * @param {Object} filterObj\r\n   * @param {String} filterObj.text search substring\r\n   * @param {Boolean} filterObj.short if true show only duration < 40\r\n   */\r\n  function filterFilm(filmList, filterObj) {\r\n    let filtredArray;\r\n    filtredArray = filmList.filter((film) => {\r\n      return film.nameRU.toLowerCase().includes(filterObj.text.toLowerCase());\r\n    });\r\n    if (filterObj.short === true) {\r\n      filtredArray = filtredArray.filter((film) => Number(film.duration) <= 40);\r\n    }\r\n    return filtredArray;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Search onSearch={onSearch} />\r\n      <MoviesList\r\n        ref={MoviesRef}\r\n        movies={curRoute === \"/movies\" ? movies : getLikedMovies()}\r\n        mode={curRoute === \"/saved-movies\"}\r\n        onLike={onLike}\r\n        onDislike={onDislike}\r\n        cardsOnScreen={getAmoutOfCards()}\r\n      />\r\n    </>\r\n  );\r\n}\r\nexport default withRouter(Movies);\r\n","function handleInput(event, dataSetter) {\r\n  if (!event.target.validity.valid) {\r\n    event.target.nextSibling.textContent = event.target.validationMessage;\r\n    event.target.nextSibling.style.visibility = \"visible\";\r\n    event.target.classList.add(\"signform__input_invalid\");\r\n  } else {\r\n    event.target.nextSibling.style.visibility = \"hidden\";\r\n    event.target.classList.remove(\"signform__input_invalid\");\r\n  }\r\n\r\n  dataSetter(event.target.value);\r\n}\r\n\r\nexport default handleInput;\r\n","import consts from \"./constants\";\r\n\r\nconst { filmAPI } = consts;\r\n\r\nclass Auth {\r\n  /**\r\n   * Creates an instance of Api.\r\n   * @param {obj} data auth data\r\n   * @param {string} url Api path\r\n   * @memberof Api\r\n   */\r\n  constructor(url) {\r\n    this._baseURL = url;\r\n  }\r\n\r\n  registerUser(password, email, name) {\r\n    return this._sendRequest(\r\n      \"POST\",\r\n      `${this._baseURL}/signup`,\r\n      { \"Content-Type\": \"application/json\" },\r\n      { password, email, name }\r\n    ).then((res) => this._handleResponseStatus(res));\r\n  }\r\n\r\n  loginUser(password, email) {\r\n    return this._sendRequest(\r\n      \"POST\",\r\n      `${this._baseURL}/signin`,\r\n      { \"Content-Type\": \"application/json\" },\r\n      { password, email }\r\n    ).then((res) => {\r\n      return this._handleResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  getUser() {\r\n    return this._sendRequest(\"GET\", `${this._baseURL}/users/me`).then((res) => {\r\n      return this._handleResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  signOut() {\r\n    return this._sendRequest(\"GET\", `${this._baseURL}/signout`).then((res) => {\r\n      return this._handleResponseStatus(res);\r\n    });\r\n  }\r\n\r\n  editProfileData(name, email) {\r\n    return this._sendRequest(\r\n      \"PATCH\",\r\n      `${this._baseURL}/users/me`,\r\n      { \"Content-Type\": \"application/json\" },\r\n      { name, email }\r\n    ).then((res) => this._handleResponseStatus(res));\r\n  }\r\n\r\n  _handleResponseStatus(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(res);\r\n  }\r\n\r\n  _objectIsEmptyOrUndefined(obj) {\r\n    if (obj === \"undefined\") {\r\n      return true;\r\n    }\r\n    return obj && Object.keys(obj).length === 0;\r\n  }\r\n\r\n  /**\r\n   * Send modulable request\r\n   *\r\n   * @param {string} method Sending method (GET, POST, etc.)\r\n   * @param {string} url API URL\r\n   * @param {object} headers key: value representation of headers\r\n   * @param {object} body key: vlaue representation of body\r\n   * @return {Promise}\r\n   * @memberof Api\r\n   */\r\n  _sendRequest(method, url, headers, body) {\r\n    const reqHeader = {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    };\r\n\r\n    if (headers && !this._objectIsEmptyOrUndefined(headers)) {\r\n      Object.assign(reqHeader, headers);\r\n    }\r\n\r\n    const fetchData = {\r\n      method,\r\n      headers: reqHeader,\r\n      credentials: \"include\",\r\n    };\r\n\r\n    if (body && !this._objectIsEmptyOrUndefined(body)) {\r\n      fetchData.body = JSON.stringify(body);\r\n    }\r\n    return fetch(url, fetchData);\r\n  }\r\n}\r\nconst auth = new Auth(filmAPI);\r\nexport default auth;\r\n","/* eslint-disable react/prop-types */\r\nimport { useState, useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport logo from \"../../images/logo.svg\";\r\nimport \"../SignForm/SignForm.css\";\r\nimport handleInput from \"../../utils/validator\";\r\nimport { ModalContext } from \"../../context/modalContext\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\n\r\nimport auth from \"../../utils/AuthApi\";\r\n\r\nfunction Register(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  let { handleModal } = useContext(ModalContext);\r\n  const history = useHistory();\r\n\r\n  function handleButtonDisabling(e) {\r\n    if (name.length > 0 && email.length > 0 && password.length > 0 && e.target.form.checkValidity()) {\r\n      e.target.form.querySelector(\".signform__submit\").disabled = false;\r\n    } else {\r\n      e.target.form.querySelector(\".signform__submit\").disabled = true;\r\n    }\r\n  }\r\n\r\n  function register(e) {\r\n    e.preventDefault();\r\n    handleModal(<Preloader />, false);\r\n    if (e.target.checkValidity()) {\r\n      auth\r\n        .registerUser(password, email, name)\r\n        .then(() => {\r\n          auth.loginUser(password, email).then((res) => {\r\n            props.onLogin(res.name, res.email);\r\n            history.push(\"/movies\");\r\n          });\r\n        })\r\n        .catch(() => {\r\n          handleModal(<h2 className='modal__title'>Ошибка регистрации</h2>, true);\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className='signform'>\r\n      <Link to='/'>\r\n        <img src={logo} className='signform__logo' alt='Логотип' />\r\n      </Link>\r\n\r\n      <h1 className='signform__title'>Добро пожаловать</h1>\r\n      <form className='signup__form signform__form' onChange={handleButtonDisabling} onSubmit={register} noValidate>\r\n        <div className='signform__field'>\r\n          <label className='signform__label'>Имя</label>\r\n          <input\r\n            size='396'\r\n            value={name}\r\n            onChange={(e) => handleInput(e, setName)}\r\n            className='signform__input'\r\n            type='text'\r\n            minLength='3'\r\n            maxLength='30'\r\n            required\r\n            placeholder='Введите имя'\r\n            id='name'\r\n          ></input>\r\n          <div className='signform__info'>Заполните это поле.</div>\r\n        </div>\r\n        <div className='signform__field'>\r\n          <label className='signform__label'>E-mail</label>\r\n          <input\r\n            size='396'\r\n            value={email}\r\n            onChange={(e) => handleInput(e, setEmail)}\r\n            className='signform__input'\r\n            type='email'\r\n            required\r\n            placeholder='Введите почту'\r\n            id='email'\r\n          ></input>\r\n          <div className='signform__info'>Заполните это поле.</div>\r\n        </div>\r\n        <div className='signform__field'>\r\n          <label className='signform__label'>Пароль</label>\r\n          <input\r\n            size='396'\r\n            value={password}\r\n            onChange={(e) => handleInput(e, setPassword)}\r\n            className='signform__input'\r\n            type='password'\r\n            minLength='6'\r\n            maxLength='30'\r\n            required\r\n            placeholder='Введите пароль'\r\n            id='password'\r\n          ></input>\r\n          <div className='signform__info'>Заполните это поле.</div>\r\n        </div>\r\n\r\n        <input className='signup__submit signform__submit' type='submit' disabled={true} value='Регистрация' />\r\n      </form>\r\n      <Link className='signform__link' to='/signin'>\r\n        Уже зарегистрированы? <span className='signform__link-accent'>Войти</span>\r\n      </Link>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","/* eslint-disable react/prop-types */\r\nimport { useState, useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport logo from \"../../images/logo.svg\";\r\nimport \"../SignForm/SignForm.css\";\r\nimport handleInput from \"../../utils/validator\";\r\nimport auth from \"../../utils/AuthApi\";\r\nimport { ModalContext } from \"../../context/modalContext\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  let { handleModal } = useContext(ModalContext);\r\n  const history = useHistory();\r\n\r\n  function handleButtonDisabling(e) {\r\n    if (email.length > 0 && password.length > 0 && e.target.form.checkValidity()) {\r\n      e.target.form.querySelector(\".signform__submit\").disabled = false;\r\n    } else {\r\n      e.target.form.querySelector(\".signform__submit\").disabled = true;\r\n    }\r\n  }\r\n\r\n  function login(e) {\r\n    if (e.target.checkValidity()) {\r\n      handleModal(<Preloader />, false);\r\n      auth\r\n        .loginUser(password, email)\r\n        .then((res) => {\r\n          props.onLogin(res.token);\r\n          history.push(\"/movies\");\r\n        })\r\n        .catch(() => {\r\n          handleModal(<h2>Ошибка авторизации</h2>, true);\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className='signform'>\r\n      <Link to='/'>\r\n        <img src={logo} className='signform__logo' alt='Логотип' />\r\n      </Link>\r\n\r\n      <h1 className='signform__title'>Добро пожаловать</h1>\r\n      <form className='signup__form signform__form' onChange={handleButtonDisabling} onSubmit={login} noValidate>\r\n        <div className='signform__field'>\r\n          <label className='signform__label'>E-mail</label>\r\n          <input\r\n            size='396'\r\n            value={email}\r\n            onChange={(e) => handleInput(e, setEmail)}\r\n            className='signform__input'\r\n            type='email'\r\n            required\r\n            placeholder='Введите почту'\r\n          ></input>\r\n          <div className='signform__info'>Что-то пошло не так...</div>\r\n        </div>\r\n        <div className='signform__field'>\r\n          <label className='signform__label'>Пароль</label>\r\n          <input\r\n            size='396'\r\n            value={password}\r\n            onChange={(e) => handleInput(e, setPassword)}\r\n            className='signform__input'\r\n            type='password'\r\n            minLength='6'\r\n            maxLength='30'\r\n            required\r\n            placeholder='Введите пароль'\r\n          ></input>\r\n          <div className='signform__info'>Что-то пошло не так...</div>\r\n        </div>\r\n\r\n        <input className='signup__submit signform__submit' type='submit' disabled={true} value='Войти' />\r\n      </form>\r\n      <Link className='signform__link' to='/signup'>\r\n        Ещё не зарегистрированы? <span className='signform__link-accent'>Регистрация</span>\r\n      </Link>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","/* eslint-disable react/prop-types */\r\nimport { useState, useContext, useEffect } from \"react\";\r\nimport \"./Profile.css\";\r\nimport currentUser from \"../../context/userContext\";\r\nimport { ModalContext } from \"../../context/modalContext\";\r\n\r\nfunction Profile(props) {\r\n  const user = useContext(currentUser);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [titleName, setTitleName] = useState(\"друг\");\r\n  let { handleModal } = useContext(ModalContext);\r\n\r\n  const nameInput = document.querySelector(\"#name\");\r\n  const emailInput = document.querySelector(\"#email\");\r\n  const submitButton = document.querySelector(\".profile__submit\");\r\n\r\n  useEffect(() => {\r\n    if (user !== null) {\r\n      setName(user.name);\r\n      setTitleName(user.name);\r\n      setEmail(user.email);\r\n    }\r\n  }, [user]);\r\n\r\n  function onFormChange(e) {\r\n    if (e.target.form.checkValidity() && (nameInput.value !== user.name || emailInput.value !== user.email)) {\r\n      submitButton.style.visibility = \"visible\";\r\n    }\r\n  }\r\n\r\n  function changeUserData(e) {\r\n    e.preventDefault();\r\n    if (nameInput.value !== user.name || emailInput.value !== user.email) {\r\n      props.onChangeProfile(name, email).then(handleModal(<h2 className='modal__title'>Данные обновлены</h2>, true));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className='profile'>\r\n      <h1 className='profile__title'>Привет, {titleName}!</h1>\r\n      <form className='profile__form' onChange={onFormChange} onSubmit={changeUserData}>\r\n        <fieldset className='profile__fieldset'>\r\n          <div className='profile__field'>\r\n            <label className='profile__label' htmlFor='name'>\r\n              Имя\r\n            </label>\r\n            <input\r\n              className='profile__input'\r\n              type='text'\r\n              name='name'\r\n              minLength='3'\r\n              maxLength='30'\r\n              id='name'\r\n              placeholder='Имя'\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className='profile__field'>\r\n            <label className='profile__label' htmlFor='email'>\r\n              E-mail\r\n            </label>\r\n            <input\r\n              className='profile__input'\r\n              type='email'\r\n              name='email'\r\n              id='email'\r\n              placeholder='Почта'\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </div>\r\n        </fieldset>\r\n        <input className='profile__submit' type='submit' style={{ visibility: \"hidden\" }} value='Редактировать' />\r\n      </form>\r\n      <button onClick={props.onSignOut} className='profile__signout'>\r\n        Выйти из аккаунта\r\n      </button>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import { Link } from \"react-router-dom\";\r\nimport \"./NotFound.css\";\r\n\r\nfunction NotFound() {\r\n  return (\r\n    <section className='notfound'>\r\n      <h1 className='notfound__title'>404</h1>\r\n      <p className='notfound__text'>Страница не найдена</p>\r\n      <Link className='notfound__link' to='/'>\r\n        Назад\r\n      </Link>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","/* eslint-disable react/prop-types */\r\nimport React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return <Route>{() => (props.loggedIn ? <Component {...props} /> : <Redirect to='/signin' />)}</Route>;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { useLocation } from \"react-router-dom\";\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n  const curRoute = useLocation().pathname;\r\n\r\n  if (curRoute === \"/movies\" || curRoute === \"/saved-movies\" || curRoute === \"/\") {\r\n    return (\r\n      <footer className='footer'>\r\n        <p className='footer__annotation'>Учебный проект Яндекс.Практикум х BeatFilm.</p>\r\n\r\n        <div className='footer__row'>\r\n          <p className='footer__date'>@ 2021</p>\r\n          <ul className='footer__links'>\r\n            <a href='https://praktikum.yandex.ru/' rel='noreferrer' target='_blank' className='footer__link'>\r\n              <li>Яндекс.Практикум</li>\r\n            </a>\r\n            <a href='https://github.com/torvalds' rel='noreferrer' target='_blank' className='footer__link'>\r\n              <li>Github</li>\r\n            </a>\r\n            <a href='https://ru-ru.facebook.com/zuck' rel='noreferrer' target='_blank' className='footer__link'>\r\n              <li>Facebook</li>\r\n            </a>\r\n          </ul>\r\n        </div>\r\n      </footer>\r\n    );\r\n  } else return \"\";\r\n}\r\n\r\nexport default Footer;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Route, Switch, HashRouter } from \"react-router-dom\";\r\nimport Header from \"../Header/Header\";\r\nimport Main from \"../Main/Main\";\r\nimport Movies from \"../Movies/Movies\";\r\nimport Register from \"../Register/Register\";\r\nimport Login from \"../Login/Login\";\r\nimport Profile from \"../Profile/Profile\";\r\nimport NotFound from \"../NotFound/NotFound\";\r\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\r\nimport Footer from \"../Footer/Footer\";\r\n\r\nimport api from \"../../utils/AuthApi\";\r\n\r\nimport UserContext from \"../../context/userContext\";\r\nimport { ModalProvider } from \"../../context/modalContext\";\r\n\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [loggedIn, setLoggedIn] = useState(window.localStorage.getItem(\"token\"));\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      api\r\n        .getUser()\r\n        .then((data) => {\r\n          setCurrentUser(data);\r\n        })\r\n        .catch((err) => console.error(err));\r\n    }\r\n  }, []);\r\n\r\n  function onLogin(token) {\r\n    setLoggedIn(token);\r\n    window.localStorage.setItem(\"token\", token);\r\n    api\r\n      .getUser()\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch((err) => console.error(err));\r\n  }\r\n\r\n  function onChangeProfile(name, email) {\r\n    return api\r\n      .editProfileData(name, email)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch((err) => console.error(err));\r\n  }\r\n\r\n  function likeFilm(id) {\r\n    if (!currentUser.movies.includes(id)) {\r\n      const newCurrentUser = currentUser;\r\n      newCurrentUser.movies.push(id);\r\n      setCurrentUser(newCurrentUser);\r\n    }\r\n  }\r\n\r\n  function dislikeFilm(id) {\r\n    if (currentUser.movies.includes(id)) {\r\n      const newCurrentUser = currentUser;\r\n      newCurrentUser.movies.filter((item) => item !== id);\r\n      setCurrentUser(newCurrentUser);\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function onSignOut() {\r\n    api\r\n      .signOut()\r\n      .then(() => {\r\n        setLoggedIn(null);\r\n        window.localStorage.removeItem(\"token\");\r\n        setCurrentUser(null);\r\n      })\r\n      .catch((err) => console.error(err));\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider value={currentUser}>\r\n      <ModalProvider>\r\n        <div className='App'>\r\n          <HashRouter basename='/'>\r\n            <Header loggedIn={loggedIn} />\r\n\r\n            <Switch>\r\n              <ProtectedRoute path='/movies' loggedIn={loggedIn} component={Movies} onLike={likeFilm} />\r\n              <ProtectedRoute path='/saved-movies' loggedIn={loggedIn} component={Movies} onDislike={dislikeFilm} />\r\n              <Route path='/signup'>\r\n                <Register onLogin={onLogin} />\r\n              </Route>\r\n              <Route path='/signin'>\r\n                <Login onLogin={onLogin} />\r\n              </Route>\r\n              <ProtectedRoute\r\n                path='/profile'\r\n                loggedIn={loggedIn}\r\n                onSignOut={onSignOut}\r\n                onChangeProfile={onChangeProfile}\r\n                currentUser={currentUser}\r\n                component={Profile}\r\n              />\r\n              <Route exact path='/'>\r\n                <Main />\r\n              </Route>\r\n              <Route>\r\n                <NotFound />\r\n              </Route>\r\n            </Switch>\r\n            <Footer />\r\n          </HashRouter>\r\n        </div>\r\n      </ModalProvider>\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}